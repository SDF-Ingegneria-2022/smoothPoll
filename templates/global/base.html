{% load static %}
{% load bootstrap5 %}

<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block pagename %}{% endblock pagename %} | Scegli Meglio</title>
    <meta name="description" 
        content="{% block metadescription %}{% endblock metadescription %}" />
    <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}?v=2" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    
    {# Load CSS and JavaScript #}
    {% bootstrap_css %}

    {# basic style #}
    <style>
        
        /* mobile viewport bug fix */
        body {
            min-height: 100vh;
            min-height: -webkit-fill-available;
        }
          
        html {
            height: -webkit-fill-available;
        }
          
        span.logo img {
            max-width: 380px;
            width: 100%;
        }

        .container404 img {
            max-width: 570px;
            width: 100%;
        }
        
        @media only screen and (max-width: 1023px) {
            .hide-mobile {
                display: none;
            }
        }

        .smooth-transitions {
            transition: all 0.2s ease-in;
        }
        @import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css");
    </style>

    <link rel="stylesheet" href="{% static 'css/side-nav.css' %}" />
    <link rel="stylesheet" href="{% static 'css/share-modal.css' %}" />

    {% block pagestyle %}{% endblock pagestyle %}

    <script src="{% static 'js/jquery/jquery-3.6.2.min.js' %}"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.6.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

    <script>
        htmx.onLoad(function(content) {
            var sortables = content.querySelectorAll(".sortable");
            for (var i = 0; i < sortables.length; i++) {
                var sortable = sortables[i];
                new Sortable(sortable, {
                    animation: 150,
                    ghostClass: 'blue-background-class'
                });
            }
        })
        </script>

    {% if GA_TAG %}
    <input type="hidden" id="jsTag" name="variable" value="{{ GA_TAG }}">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ GA_TAG }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', document.getElementById("jsTag").value);
        // console.log(document.getElementById("jsTag").value);
    </script>
    {% endif %}
</head>
<body class="body">
    {% block body %}{% endblock body %}

    {% bootstrap_javascript %}

    <script src="{% static 'js/side-nav.js' %}" ></script>

    {# Custom JS #}
    {% block customjs %}{% endblock customjs %} 
</body>
</html>