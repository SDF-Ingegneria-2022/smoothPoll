{% extends 'global/skeleton.html' %}

{% block pagename %}Riepilogo del sondaggio{% endblock pagename %}

{% block content %}
<div class="container text-center mt-5 mb-5">
    <h1>{{ poll.name }}</h1>
    <h2 class="text-info">Dettagli sul sondaggio</h2>
</div>

<div class="container border">

    <div class="container mt-5 mb-5">
        <p class="fw-bold fs-3 mb-0">Testo della domanda: </p>
        <h3>{{ poll.question }}</h3>
    </div>

            <div class="container mt-5 mb-5">
                <p class="fw-bold fs-3 mb-0">Opzioni della domanda: </p>
                {% for option in poll.options %}
                    <div class="fw md-2">
                        <h4>{{ option.value }}</h4>
                    </div>
                {% endfor %}
            </div>

            <div class="container mt-5 mb-5">
                <p class="fw-bold fs-3 mb-0">Tipo di sondaggio: </p>
                <h4>{{ poll.get_type_verbose_name }}</h4>
            </div>

            {% comment %} Poll open date if present {% endcomment %}
            {% if poll.open_datetime %}
            <div class="container mt-5 mb-5">
                <p class="fw-bold fs-3 mb-0">Data di apertura del sondaggio: </p>
                <h4>{{ poll.open_datetime }}</h4>
            </div>
            {% endif %}

            {# Return button #}
            <div class="container mt-5">
                <div class="d-grid gap-2 d-md-block">
                    <a name="" id="" role="button"
                        class="btn btn-primary m-2" 
                        href="{% url 'apps.polls_management:all_polls' %}?page=1&per_page=10" >
                        Ritorna alla lista di tutti i sondaggi
                    </a>
                </div>
            </div>

            {% comment %} Edit and delete buttons {% endcomment %}

            <div class="container mt-5">
                <div class="d-grid gap-2 d-md-block">
                    <a name="" id="" role="button"
                        class="btn btn-primary m-2" 
                        href="{% url 'apps.polls_management:poll_edit' poll_id=poll.id %}" >
                        Modifica sondaggio
                    </a>
                </div>
            </div>

            <div class="container mt-5">
                <div class="d-grid gap-2 d-md-block">
                    <form action="{% url 'apps.polls_management:poll_delete' poll_id=poll.id %}" method="POST">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-primary">Elimina sondaggio</button>
                    </form>
                </div>
            </div>

            {% comment %} Open poll button {% endcomment %}

            <div class="container mt-5">
                <div class="d-grid gap-2 d-md-block">
                    <a name="" id="" role="button"
                        class="btn btn-primary m-2" 
                        href="" >
                        Apri sondaggio
                    </a>
                </div>
            </div>

</div>
{% endblock content %}