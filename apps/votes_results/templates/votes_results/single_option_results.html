{% extends 'global/skeleton.html' %}

{% block pagename %}Risultati Opzione Singola{% endblock pagename %}

{% block content %}
<div class="container text-center mt-5 mb-5">
    <h1>{{poll_results.poll.name}}</h1>
    <h2 class="text-info">Esito votazioni con opzione singola</h2>
</div>

<div class="container border">
    
    <div class="container mt-3">
        <div class="row border-0 rounded bg-light">
            <div class="col-md-auto pe-0">
                <p class="mb-0 fs-3 ">Domanda:</p>
            </div>
            <div class="col">
                <p class="mb-0 mt-1 fs-4 fw-light">{{ poll_results.poll.question }}</p>
            </div>
        </div>
        <div class="row border-0 rounded bg-light mt-1">
            <div class="col-md-auto pe-0">
                <p class="mb-0 fs-3 ">Tipologia:</p>
            </div>
            <div class="col">
                <p class="mb-0 mt-1 fs-4 fw-light">{{ poll_results.poll.get_type_verbose_name }}</p>
            </div>
        </div>
    </div>

    <div class="container mb-3 mt-3">
        <h3>Risultati</h3>
        <div class="container m-3">
            {%for voted_option in poll_results.get_sorted_options %}
                <div class="row">
                    <div class="col-xxl-6">
                        <p class="text-secondary">{{forloop.counter}}.
                            <span class="{% if forloop.counter == 1 %}text-success fw-bold
                            {% else %}text-dark{% endif %}">{{voted_option.option.value}}</span></p>
                    </div>
                    <div class="col-md-6">
                        <p class="fw-bold text-primary"> ha ricevuto {{voted_option.n_votes}} voti</p>
                    </div>
                </div>
                <hr />
            {% endfor %}
        </div>
    </div>

    <br>

    <div class="container text-center md-5 mt-4">
        <div class="d-grid gap-2 d-md-block">
            <a name="" id="" role="button"
                class="btn btn-primary" 
                href="{% url 'home' %}" >
                Torna alla home
            </a>
            <a name="" id="" role="button"
                class="btn btn-secondary" 
                href="https://github.com/SDF-Ingegneria-2022/smoothPoll/issues" 
                target="_blank">
                Lasciaci un Feedback
            </a>
        </div>
    </div>
    <br>
</div>

{% endblock content %}

