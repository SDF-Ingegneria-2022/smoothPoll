{% extends 'global/skeleton.html' %}

{% block pagename %}Risultati Opzione Singola{% endblock pagename %}

{% block content %}
<div class="container text-center mt-2 mb-5">
    <div class="row">
        <div class="col">
            <h1 class="fw-normal">Risultati della scelta: {{poll_results.poll.name}}</h1>
        </div>
    </div>
    <!-- SO results -->
    {%for voted_option in poll_results.get_sorted_options %}
        <div class="row m-3">
            <div class="col-1 fs-4 pt-1 {%if forloop.counter == 1%}bg-success {%else%}bg-primary {%endif%}text-center text-white ">
                {{forloop.counter}}
            </div>
            <div class="col-5 fs-5 fw-light ms-1 pt-1 bg-light">
                {{ voted_option.option.value|truncatechars:20 }}
            </div>
            <div class="col fs-5 fw-light ms-1 pt-1 bg-light">
                {{voted_option.n_votes}} {%if voted_option.n_votes == 1%}voto{%else%}voti{%endif%}
            </div>
        </div>
        <hr />
    {% endfor %}
    <!-- Buttons -->
    <div class="row">
        <div class="d-grid gap-2 d-md-block">
            <a name="" id="" role="button"
                class="btn btn-primary" 
                href="{% url 'home' %}" >
                Torna alla home
            </a>
            <a name="" id="" role="button"
                class="btn btn-secondary" 
                href="https://github.com/SDF-Ingegneria-2022/smoothPoll/issues" 
                target="_blank">
                Lasciaci un Feedback
            </a>
        </div>
    </div>
    
</div>

<!-- Poll data -->
<div class="container border  pb-1">
    <div class="row mt-0 text-start bg-primary ">
        <p class="mb-0 fs-4 text-white fw-light">
            Dettagli
        </p>
    </div>
    {% include 'polls_management/components/poll_info.html' with poll=poll_results.poll %}
</div>

{% endblock content %}

